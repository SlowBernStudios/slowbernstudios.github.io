<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Last Circuit - Slowbern Studios</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/games.css">
</head>
<body>
<header>
    <div class="header-content">
        <div class="logo">
            <img src="../../assets/images/logos/slowbern_studios.png" alt="Slowbern Studios" class="logo-img">
        </div>
        <nav>
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../games.html">Games</a></li>
                <li><a href="../../devlog.html">Dev Blog</a></li>
                <li><a href="../../about.html">About</a></li>
                <li><a href="../../contact.html">Contact</a></li>
            </ul>
        </nav>
    </div>
</header>

<main class="game-detail">
    <div id="game-content">
        <!-- Game details will be loaded here -->
    </div>
</main>

<footer>
    <p>&copy; 2025 Slowbern Studios. All rights reserved. &middot;
        <a href="../../privacy.html">Privacy</a> &middot;
        <a href="../../terms.html">Terms</a> &middot;
        <a href="../../cookies.html">Cookies</a> &middot;
        <a href="../../disclaimer.html">Disclaimer</a>
    </p>
</footer>

<script src="../../js/data/games-data.js"></script>
<script src="../../js/meta-manager.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const gameId = 'thelastcircuit';
        const game = gamesData.current.find(g => g.id === gameId);

        if (!game) {
            document.getElementById('game-content').innerHTML = '<p class="card">Game data is unavailable.</p>';
            return;
        }

        const platforms = Array.isArray(game.platforms) && game.platforms.length ? game.platforms : ['Web'];
        const tagsMarkup = Array.isArray(game.tags) && game.tags.length
            ? '<div class="game-tags">' + game.tags.map(function(tag) {
                return '<span class="tag">' + tag + '</span>';
            }).join('') + '</div>'
            : '';
        const releaseLabel = game.status === 'released' && game.releaseDate && game.releaseDate !== 'TBD'
            ? 'Released: ' + game.releaseDate
            : 'Status: ' + (game.status || 'Prototype');
        const platformItems = platforms.map(function(platform) {
            return '<span class="platform">' + platform + '</span>';
        }).join('');

        const playButton = '<p style="margin-top:16px;"><a class="btn" href="../../apps/the-last-circuit/" target="_blank" rel="noopener">Play Prototype (Web)</a></p>';

        document.getElementById('game-content').innerHTML = `
            <header class="game-header">
                <h1>${game.title}</h1>
                <div class="game-meta">
                    <span class="release-date">${releaseLabel}</span>
                    <div class="platforms">${platformItems}</div>
                </div>
            </header>

            <section class="game-description">
                <h2>About the Game</h2>
                <p>${game.description}</p>
                ${playButton}
            </section>
            ${tagsMarkup}
        `;

        const metaManager = new MetaManager();
        metaManager.updatePageMeta(game);
    });
</script>

</body>
</html>

